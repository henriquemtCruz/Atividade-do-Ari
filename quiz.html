<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quizz</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body{
            margin: 60px;
        }
        .nome{
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }
        .nome> #nomeSegunda{
            text-decoration: underline;
            font-size: 45px;
            text-transform: uppercase;
            
        }
        label{
            background-color: rgba(255, 127, 148, 0.137);
            cursor: pointer;
            border-radius: 20px;
            width: 400px;
            margin: auto;
        }
        label:hover{
            background-color: rgba(255, 127, 148, 0.5);
            cursor: pointer;
            border-radius: 20px;
            width: 400px;
            margin: auto;
        }
        #perguntas{
            box-shadow: 50px 30px 10px rgb(51, 17, 68);
            border-radius: 20px;
            border: darkorchid;
        }

    </style>
</head>
<body>
    <div id="perguntas">
        <div class="nome">
        <h1>Bem-Vindo(a) </h1>
        <h1 id="nomeSegunda"></h1>
    </div>
        <h1>Descubra qual princesa você é!</h1>
    <script>
        let h1 = document.getElementById("nomeSegunda")
        let nome = localStorage.getItem("nomeSalvo")
        h1.innerHTML = nome
    </script>
    <script src="script.js"></script>
        <div id="pergunta">
            <h1>Qual sua cor favorita?</h1>
            <div id="imagem_coquette"></div>
            <label> <input type="radio" name="p1" class="radio" value="bela">Amarelo</label>
            <label> <input type="radio" name="p1" class="radio" value="branca">Vermelho</label>
            <label> <input type="radio" name="p1" class="radio" value="frozen">Azul</label>
            <label> <input type="radio" name="p1" class="radio" value="vanellope">Preto</label>
        </div>
        <div id="pergunta">
            <h1>Qual sua princesa favorita?</h1>
            <div id="imagem_frozi"></div>
            <label> <input type="radio" name="p2" class="radio" value="bela">Bela</label>
            <label> <input type="radio" name="p2" class="radio" value="branca">Branca de neve</label>
            <label> <input type="radio" name="p2" class="radio" value="frozen">Frozen</label>
            <label> <input type="radio" name="p2" class="radio" value="vanellope">Vanellope</label>
        </div>
        <div id="pergunta">
            <h1>Qual sua comida favorita?</h1>
            <div id="imagem_branca"></div>
            <label> <input type="radio" name="p3" class="radio" value="bela">Banquete</label>
            <label> <input type="radio" name="p3" class="radio" value="branca">Maça</label>
            <label> <input type="radio" name="p3" class="radio" value="frozen">Sorvete</label>
            <label> <input type="radio" name="p3" class="radio" value="vanellope">Doce</label>
        </div>
        <div id="pergunta">
            <h1>Qual seu lugar favorita?</h1>
            <div id="imagem_venellope"></div>
            <label> <input type="radio" name="p4" class="radio" value="bela">Biblioteca</label>
            <label> <input type="radio" name="p4" class="radio" value="branca">Casa dos anões</label>
            <label> <input type="radio" name="p4" class="radio" value="frozen">Castelo de gelo</label>
            <label> <input type="radio" name="p4" class="radio" value="vanellope">Corrida doce</label>
        </div>
        <br>
        <br>
        <button class="btn" onclick="ContarVotos()">Veja qual princesa você é</button>
        <br>
        <br>
        <h1 id="bela"></h1>
        <h1 id="branca"></h1>
        <h1 id="frozen"></h1>
        <h1 id="vanellope"></h1>
        <h1 id="resultadoFinal"></h1>
    </div>
    <script>
        function ContarVotos(){
            //criando contadores
            let contBela = 0;
            let ContBranca = 0;
            let ContFrozen = 0;
            let ContVanellope = 0;

            //obter is radios da classe radios
            let radio = document.getElementsByClassName('radio')

            //percorrendo todos os elementos redios
            for(let i=0; i < radio.length; i++){
                //testar qual radio esta selecionado
                if(radio[i].checked){
                    if(radio[i].value == "bela"){
                        contBela++
                    }else if(radio[i].value == "branca"){
                        ContBranca++
                    } else if(radio[i].value == "frozen"){
                        ContFrozen++
                    }else{
                        ContVanellope++
                    }
                }
            }
            
            //colocando contadores nos h1
            document.getElementById('bela').innerHTML =  "Votos Bela:" + contBela
            document.getElementById('branca').innerHTML = "Votos Branca:" + ContBranca
            document.getElementById('frozen').innerHTML = "Votos Frozen:" + ContFrozen
            document.getElementById('vanellope').innerHTML = "Votos Vanellope:" + ContVanellope
           
            //mostrando do resultado final
            let resultado = document.getElementById('resultadoFinal')
            if (contBela > ContBranca && contBela > ContFrozen && contBela > ContVanellope){
                resultado.innerHTML = "Você é a Princesa Bela!!!!"
                //redirecionando para uma pagina
                setTimeout(() => {
                    window.open('bela.html')
                }, 5000);
            } else if(ContBranca > ContFrozen && ContBranca > ContVanellope){
                resultado.innerHTML = "Você é a Princesa Branca de neve!!!!"
                setTimeout(() => {
                    window.open('branca.html')
                }, 5000);
            } else if(ContFrozen > ContVanellope){
                resultado.innerHTML = "Você é a Princesa Frozen!!!!"
                setTimeout(() => {
                    window.open('frozen.html')
                }, 5000);
            } else{
                resultado.innerHTML = "Você é a Princesa Vanellope!!!!"
                setTimeout(() => {
                    window.open('vanellope.html')
                }, 5000);
            }
 
            localStorage.setItem('contBela', contBela)
            localStorage.setItem('ContBranca', ContBranca)
            localStorage.setItem('ContFrozen', ContFrozen)
            localStorage.setItem('ContVanellope', ContVanellope)
 
           
        }
    </script>
</body>
</html>